---
schemaVersion: 2.0.0

commandTests:
  - name: Should successfully run ESLint when configuration is in a .eslintrc.json file
    setup: [["cd ./test/basic-test"]]
    command: codeclimate-eslint
    args:
      - config.json
      - ./src
    expectedOutput: ['.*Missing semicolon.*', '.*Unexpected console statement.*']
    teardown: ["cd ../.."]
  - name: Should successfully run ESLint when configuration is stored in package.json as a module
    setup: [["cd ./test/package-config"]]
    command: codeclimate-eslint
    args:
      - package.json
      - ./src/main.ts
    expectedOutput: ['*/package-config/src/main.ts.*', '.*no-magic-numbers.*']
    teardown: [["cd ../.."]]

metadataTest:
  labels:
    - key: maintainer
      value: Megabyte Labs <help@megabyte.space>
    - key: space.megabyte.type
      value: code-climate
  volumes: [/code]
  workdir: /code
  user: app
